(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-545930b9"],{6162:function(e,a,t){"use strict";t("d01e")},"7ea1c":function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-sheet",[e.status.isLoading?t("div",{staticClass:"loading-box"},[t("half-circle-spinner",{attrs:{"animation-duration":1200,size:80,color:"#1A237E"}})],1):[t("v-form",{ref:"form",model:{value:e.valid,callback:function(a){e.valid=a},expression:"valid"}},[t("v-text-field",{attrs:{required:"",readonly:"",label:"帳號："},model:{value:e.userData.account,callback:function(a){e.$set(e.userData,"account",a)},expression:"userData.account"}}),t("v-text-field",{attrs:{label:"姓名：",rules:e.nameRules,clearable:"",required:""},model:{value:e.userData.username,callback:function(a){e.$set(e.userData,"username",a)},expression:"userData.username"}}),t("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(a){var s=a.on,n=a.attrs;return[t("v-text-field",e._g(e._b({attrs:{label:"生日：",readonly:""},model:{value:e.userData.birthday,callback:function(a){e.$set(e.userData,"birthday",a)},expression:"userData.birthday"}},"v-text-field",n,!1),s))]}}]),model:{value:e.menu,callback:function(a){e.menu=a},expression:"menu"}},[t("v-date-picker",{attrs:{"no-title":"","active-picker":"YEAR",max:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),min:"1950-01-01"},on:{change:e.save},model:{value:e.userData.birthday,callback:function(a){e.$set(e.userData,"birthday",a)},expression:"userData.birthday"}})],1),t("v-select",{attrs:{items:e.sexChoices,rules:[function(e){return!!e||"需選擇性別"}],label:"性別："},model:{value:e.userData.sex,callback:function(a){e.$set(e.userData,"sex",a)},expression:"userData.sex"}}),t("v-text-field",{attrs:{label:"手機號碼",rules:[function(e){return!!e||"手機號碼不能為空白"}],clearable:""},model:{value:e.userData.phone,callback:function(a){e.$set(e.userData,"phone",a)},expression:"userData.phone"}}),t("v-text-field",{attrs:{label:"電子信箱：",rules:e.emailRules,clearable:"",required:""},model:{value:e.userData.email,callback:function(a){e.$set(e.userData,"email",a)},expression:"userData.email"}}),t("v-row",{staticClass:"my-3"},[t("v-spacer"),t("v-btn",{staticClass:"mr-4",attrs:{color:"primary",outlined:"",disabled:e.same},on:{click:e.cancelEdit}},[e._v(" 取消修改 ")]),t("v-btn",{staticClass:"mr-4",attrs:{disabled:e.same||!e.valid,color:"primary"}},[e._v(" 儲存修改 ")])],1)],1)]],2)],1)},n=[],r=t("5530"),i=(t("7db0"),t("369b")),u=t.n(i),c=t("4583"),o=t("2f62"),l="https://docs.google.com/spreadsheets/d/e/2PACX-1vT54r-aPFDVkBm3KfUCm3C1N6kwcAN7fVqFzsUc2IKShjEpO3TQjKPKY2zUbkeQkQD6OaQ56CyR0ECC/pub?gid=1020618966&single=true&output=csv",d={name:"UserSettingForm",components:{HalfCircleSpinner:c["a"]},data:function(){return{userData:{account:"",username:"",sex:"",birthday:"",phone:"",email:""},userCached:{account:"",username:"",sex:"",birthday:"",phone:"",email:""},valid:!0,menu:!1,nameRules:[function(e){return!!e||"姓名不能空白"}],emailRules:[function(e){return!!e||"信箱不能空白"},function(e){return/.+@.+/.test(e)||"信箱格式不正確"}],sexChoices:["生理男","生理女","不透露"],status:{isLoading:!0}}},created:function(){var e=this.user.id;this.fetchUser(e)},methods:{fetchUser:function(e){var a=this;u.a.parse(l,{download:!0,header:!0,dynamicTyping:!0,complete:function(t){var s=t.data.find((function(a){return a.id==e}));a.userData=Object(r["a"])(Object(r["a"])(Object(r["a"])({},a.userData),s),{},{phone:"0"+s.phone}),a.userCached=Object(r["a"])(Object(r["a"])(Object(r["a"])({},a.userCached),s),{},{phone:"0"+s.phone}),a.status.isLoading=!1}})},save:function(e){this.$refs.menu.save(e)},cancelEdit:function(){this.userData=Object(r["a"])(Object(r["a"])({},this.userData),this.userCached)}},computed:Object(r["a"])({same:function(){var e=this,a=["username","sex","birthday","phone","email"];return a.every((function(a){return e.userData[a]===e.userCached[a]}))}},Object(o["b"])(["user"]))},m=d,f=(t("6162"),t("2877")),b=t("6544"),h=t.n(b),v=t("8336"),p=t("a523"),D=t("2e4b"),x=t("4bd4"),k=t("e449"),y=t("0fd9"),C=t("b974"),O=t("8dd9"),g=t("2fa4"),w=t("8654"),j=Object(f["a"])(m,s,n,!1,null,"29df158a",null);a["default"]=j.exports;h()(j,{VBtn:v["a"],VContainer:p["a"],VDatePicker:D["a"],VForm:x["a"],VMenu:k["a"],VRow:y["a"],VSelect:C["a"],VSheet:O["a"],VSpacer:g["a"],VTextField:w["a"]})},d01e:function(e,a,t){}}]);
//# sourceMappingURL=chunk-545930b9.a258a5e6.js.map