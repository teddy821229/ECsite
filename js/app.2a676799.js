(function(t){function e(e){for(var i,r,s=e[0],c=e[1],u=e[2],l=0,d=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);m&&m(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,r=1;r<n.length;r++){var s=n[r];0!==a[s]&&(i=!1)}i&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var i={},r={app:0},a={app:0},o=[];function s(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-13a3ce92":"1eb6bda9","chunk-2408748a":"4141d044","chunk-369465ef":"b4def808","chunk-4fd2d4f8":"3cea35cb","chunk-79045f60":"78321ff6","chunk-87d7ad34":"10312fc4","chunk-9e865bc6":"2b43dec9","chunk-ee56cba2":"6b68b980","chunk-10668aa2":"641b6a8a","chunk-2d0d6d35":"95b5960e","chunk-545930b9":"a258a5e6","chunk-2c6acf8a":"088ddbcb","chunk-ef75f2a8":"85aae9be"}[t]+".js"}function c(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-2408748a":1,"chunk-369465ef":1,"chunk-4fd2d4f8":1,"chunk-79045f60":1,"chunk-87d7ad34":1,"chunk-9e865bc6":1,"chunk-ee56cba2":1,"chunk-10668aa2":1,"chunk-545930b9":1,"chunk-2c6acf8a":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var i="css/"+({}[t]||t)+"."+{"chunk-13a3ce92":"31d6cfe0","chunk-2408748a":"e5f41a03","chunk-369465ef":"14e61a7e","chunk-4fd2d4f8":"431b3fb5","chunk-79045f60":"b3fb738f","chunk-87d7ad34":"1a3a1e47","chunk-9e865bc6":"29ca0783","chunk-ee56cba2":"2090ba31","chunk-10668aa2":"61fdbacb","chunk-2d0d6d35":"31d6cfe0","chunk-545930b9":"2fe4e51d","chunk-2c6acf8a":"1409392c","chunk-ef75f2a8":"31d6cfe0"}[t]+".css",a=c.p+i,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var u=o[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===i||l===a))return e()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===i||l===a)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var i=e&&e.target&&e.target.src||a,o=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete r[t],m.parentNode.removeChild(m),n(o)},m.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(m)})).then((function(){r[t]=0})));var i=a[t];if(0!==i)if(i)e.push(i[2]);else{var o=new Promise((function(e,n){i=a[t]=[e,n]}));e.push(i[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(m);var n=a[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",d.name="ChunkLoadError",d.type=i,d.request=r,n[1](d)}a[t]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=i,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(n,i,function(e){return t[e]}.bind(null,i));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/ECsite/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var m=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"02eb":function(t,e,n){},"036c":function(t,e,n){"use strict";n("f0c0")},2708:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("d3b7"),n("25f0"),n("fb6a");var i={filters:{moneyFilter:function(t){var e=t.toString(),n=e.length;return n<4?"$ ".concat(t):n>=4&&n<7?"$ "+e.slice(0,-3)+","+e.slice(-3):n>=7&&n<10?"$ "+e.slice(0,-6)+","+e.slice(-6,-3)+","+e.slice(-3):void 0}}}},"28d4":function(t,e,n){},"51af":function(t,e,n){"use strict";n("b93b")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("TopNavBar",{attrs:{"is-authenticated":t.isAuthenticated}}),n("v-main",{staticClass:"main-container"},[n("router-view")],1),n("Footer")],1)},a=[],o=n("5530"),s=n("2f62"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app-bar",{staticClass:"align-center",attrs:{fixed:"",color:"indigo"}},[n("v-app-bar-title",{staticClass:"title pl-5"},[n("router-link",{attrs:{to:"/home"}},[t._v(" 一四四分之二 ")])],1),n("v-spacer"),n("router-link",{attrs:{to:"/home"}},[n("v-btn",{attrs:{text:"",color:"white"}},[t._v(" 首頁 ")])],1),n("router-link",{attrs:{to:{name:"products",query:{filterId:1,seriesId:"all",keyword:""}}}},[n("v-btn",{attrs:{text:"",color:"white"}},[t._v(" 商品列表 ")])],1),t.isAuthenticated?[n("router-link",{attrs:{to:"/likes"}},[n("v-btn",{attrs:{text:"",color:"white"}},[t._v(" 我的收藏 ")])],1),n("router-link",{attrs:{to:"/member/setting"}},[n("v-btn",{attrs:{text:"",color:"white"}},[t._v(" 會員中心 ")])],1),t.onCheckoutPage?t._e():[n("div",{staticClass:"text-center"},[n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":450,"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({staticClass:"mx-2",attrs:{icon:"",color:"white"}},"v-btn",r,!1),i),[n("v-badge",{attrs:{"offset-x":"10","offset-y":"10",color:"red",content:t.itemInCart.length,value:t.itemInCart.length}},[n("v-icon",[t._v("mdi-cart")])],1)],1)]}}],null,!1,201467602),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[n("v-card",[n("v-list",[n("v-list-item",[n("v-list-item-avatar",{attrs:{color:"amber"}},[n("span",{staticClass:"white--text text-h5"},[t._v("TL")])]),n("v-list-item-content",[n("v-list-item-title",[t._v("Teddy Lee")])],1)],1)],1),n("v-divider"),t.itemInCart.length>0?n("v-list",{staticClass:"py-0"},t._l(t.itemInCart,(function(e){return n("v-list-item",{key:e.id,staticClass:"d-flex align-center my-6 item-card"},[n("v-img",{staticClass:"rounded mr-6",attrs:{src:e.Item.image||"https://picsum.photos/id/"+(12+e.Item.id)+"/500/300","max-width":"80px"}}),n("v-sheet",{attrs:{width:"150px"}},[n("div",{staticClass:"text-subtitle nowrap"},[t._v(" "+t._s(e.Item.name)+" ")]),n("v-list-item-subtitle",{staticClass:"nowrap"},[t._v("$ "+t._s(e.Item.price))])],1),n("v-sheet",{staticClass:"mr-8",attrs:{width:"100px"}},[n("v-text-field",{staticClass:"text-subtitle pa-0 ma-0",attrs:{"hide-details":"",type:"number",outlined:"",dense:""},on:{blur:function(n){return t.checkQuantity(e.id)}},model:{value:e.quantity,callback:function(n){t.$set(e,"quantity",t._n(n))},expression:"item.quantity"}},[n("v-icon",{staticClass:"button mt-1",attrs:{slot:"append",color:"grey",small:""},on:{click:function(n){return t.addQuantity(e.id)}},slot:"append"},[t._v("mdi-plus")]),n("v-icon",{staticClass:"button mt-1",attrs:{slot:"prepend-inner",color:"grey",small:""},on:{click:function(n){return t.minusQuantity(e.id)}},slot:"prepend-inner"},[t._v("mdi-minus")])],1)],1),n("v-spacer"),n("v-sheet",[n("v-list-item-title",{staticClass:"text-h6 font-weight-black"},[t._v(" "+t._s(t._f("moneyFilter")(e.quantity*e.Item.price))+" ")])],1)],1)})),1):n("v-sheet",{staticClass:"text-center grey--text py-16"},[t._v(" 購物車是空的！快去找喜歡的商品吧！ ")]),n("v-divider"),n("v-card-actions",[n("span",[t._v("總金額："+t._s(t._f("moneyFilter")(t.totalAmount))+" ")]),n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:function(e){t.menu=!1}}},[t._v(" 關閉 ")]),n("v-btn",{attrs:{color:"primary",text:"",disabled:t.itemInCart.length<1},on:{click:t.toCheckout}},[t._v(" 前往結帳 ")])],1)],1)],1)],1)]]:t._e(),t.isAuthenticated?[n("v-btn",{staticClass:"mx-2",attrs:{icon:"",color:"white"},on:{click:t.handleLogout}},[n("v-icon",[t._v("mdi-logout")])],1)]:[n("router-link",{attrs:{to:"/register"}},[n("v-btn",{attrs:{text:"",color:"white"}},[t._v(" 註冊 ")])],1),n("router-link",{attrs:{to:"/login"}},[n("v-btn",{attrs:{text:"",color:"white",to:"/login"}},[t._v(" 登入 ")])],1)]],2)},u=[],l=(n("7db0"),n("caad"),n("2532"),n("159b"),n("b0c0"),n("3d20")),d=n.n(l),m=n("c968"),f=n("2708"),h={name:"TopNavBar",mixins:[f["a"]],props:{isAuthenticated:{type:Boolean,default:!1}},data:function(){return{menu:!1}},methods:{addQuantity:function(t){var e=this.itemInCart.find((function(e){return e.id===t}));e.quantity!==e.Item.stock&&(e.quantity+=1,this.$store.commit("setCartItem",e))},minusQuantity:function(t){var e=this,n=this.itemInCart.find((function(e){return e.id===t}));1!==n.quantity?(n.quantity-=1,this.$store.commit("setCartItem",n)):d.a.fire({title:"確定要移除商品嗎？",icon:"warning",showCancelButton:!0,confirmButtonColor:"#D76972",cancelButtonColor:"#aaa",confirmButtonText:"確定",toast:!0,position:"top-end"}).then((function(t){t.isConfirmed&&e.$store.commit("removeCartItem",n)}))},checkQuantity:function(t){var e=this,n=this.itemInCart.find((function(e){return e.id===t}));n.quantity>n.Item.stock&&(n.quantity=n.Item.stock),n.quantity<0&&(n.quantity=1),0!==n.quantity?this.$store.commit("setCartItem",n):d.a.fire({title:"確定要移除商品嗎？",icon:"warning",showCancelButton:!0,confirmButtonColor:"#D76972",cancelButtonColor:"#aaa",confirmButtonText:"確定",toast:!0,position:"top-end"}).then((function(t){t.isConfirmed?e.$store.commit("removeCartItem",n):n.quantity=1}))},toCheckout:function(){document.scrollingElement.scrollTop=0,this.$router.push("/checkout"),this.menu=!1},handleLogout:function(){var t=this;d.a.fire({title:"確定要登出嗎？",icon:"warning",showCancelButton:!0,confirmButtonColor:"#D76972",cancelButtonColor:"#aaa",confirmButtonText:"登出"}).then((function(e){if(e.isConfirmed){t.$store.commit("revokeAuthentication"),m["a"].fire({icon:"success",title:"您已經成功登出"});var n=t.$route;(n.path.includes("member")||n.path.includes("likes"))&&t.$router.push("/login")}}))}},computed:Object(o["a"])(Object(o["a"])({totalAmount:function(){var t=0;return this.itemInCart.forEach((function(e){return t+=e.Item.price*e.quantity})),t}},Object(s["b"])(["itemInCart"])),{},{onCheckoutPage:function(){return"checkout"===this.$route.name}})},p=h,v=(n("51af"),n("ec5a"),n("2877")),b=n("6544"),g=n.n(b),k=n("40dc"),C=n("bb78"),y=n("4ca6"),I=n("8336"),x=n("b0af"),w=n("99d9"),_=n("ce7e"),V=n("132d"),O=n("adda"),j=n("8860"),S=n("da13"),T=n("8270"),E=n("5d23"),A=n("e449"),B=n("8dd9"),q=n("2fa4"),L=n("8654"),P=Object(v["a"])(p,c,u,!1,null,"31b76dad",null),$=P.exports;g()(P,{VAppBar:k["a"],VAppBarTitle:C["a"],VBadge:y["a"],VBtn:I["a"],VCard:x["a"],VCardActions:w["a"],VDivider:_["a"],VIcon:V["a"],VImg:O["a"],VList:j["a"],VListItem:S["a"],VListItemAvatar:T["a"],VListItemContent:E["a"],VListItemSubtitle:E["b"],VListItemTitle:E["c"],VMenu:A["a"],VSheet:B["a"],VSpacer:q["a"],VTextField:L["a"]});var N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-footer",{attrs:{padless:"",color:"indigo darken-1"}},[n("v-row",{attrs:{justify:"center","no-gutters":""}},[t._l(t.links,(function(e){return n("v-btn",{key:e.id,staticClass:"my-2 mx-2 btn",attrs:{color:"white",text:"",to:e.route}},[t._v(" "+t._s(e.name)+" ")])})),n("v-col",{staticClass:"indigo darken-4 py-4 text-center white--text",attrs:{cols:"12"}},[t._v(" Copyright © "+t._s((new Date).getFullYear())+" "),n("strong",[t._v(" 一四四分之二 ")]),n("router-link",{staticClass:"text",attrs:{to:"#"}},[n("v-btn",{attrs:{text:"",color:"white"}},[t._v("隱私權政策")])],1)],1)],2)],1)},F=[],D={name:"Footer",data:function(){return{links:[{id:"1",name:"首頁",route:{name:"home"}},{id:2,name:"商品列表",route:{name:"products",query:{filterId:1,seriesId:"all",keyword:""}}},{id:3,name:"我的收藏",route:{name:"likes"}},{id:4,name:"會員中心",route:{name:"member"}}]}}},Q=D,K=(n("9fbe"),n("62ad")),U=n("553a"),M=n("0fd9"),J=Object(v["a"])(Q,N,F,!1,null,"66db4103",null),z=J.exports;g()(J,{VBtn:I["a"],VCol:K["a"],VFooter:U["a"],VRow:M["a"]});var R={name:"App",components:{TopNavBar:$,Footer:z},computed:Object(o["a"])({},Object(s["b"])(["user","isAuthenticated"]))},H=R,W=(n("c9ce"),n("7496")),Y=n("f6c4"),X=Object(v["a"])(H,r,a,!1,null,"08679c54",null),G=X.exports;g()(X,{VApp:W["a"],VMain:Y["a"]});n("d3b7"),n("3ca3"),n("ddb0");var Z=n("8c4f"),tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"content-container"},[t.status.isLoading?n("div",{staticClass:"loading-box"},[n("half-circle-spinner",{attrs:{"animation-duration":1200,size:80,color:"#1A237E"}})],1):[n("MainCarousel",{staticClass:"mt-10"}),n("v-container",[n("div",{staticClass:"subtitle"},[t._v("最新商品")]),n("v-divider"),n("v-sheet",{staticClass:"mt-10 mx-auto py-8",attrs:{elevation:"12","max-width":"1200px"}},[n("v-slide-group",{attrs:{"show-arrows":""}},t._l(t.newestItems,(function(t){return n("NewestItems",{key:t.id,attrs:{"initial-item":t}})})),1)],1)],1),n("v-container",[n("div",{staticClass:"subtitle"},[t._v("熱銷商品")]),n("v-divider"),n("v-sheet",{staticClass:"mt-10 mx-auto",attrs:{elevation:"12","max-width":"1200px"}},[n("v-tabs",{staticClass:"py-2 px-8",attrs:{"fixed-tabs":"",color:"indigo"}},t._l(t.series,(function(e){return n("v-tab",{key:e.id,on:{click:function(n){t.selectCategory=e.id}}},[t._v(" "+t._s(e.name)+" ")])})),1),n("v-container",{staticClass:"products-container px-3 py-10"},[t._l(t.filteredTopFive,(function(t){return n("NewestItems",{key:t.id,attrs:{"initial-item":t}})})),n("v-card",{staticClass:"more-card",attrs:{"max-width":"296",elevation:"0"}},[n("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var i=e.hover;return[n("v-sheet",{staticClass:"\n                  circle-container\n                  d-flex\n                  align-center\n                  justify-center\n                  flex-column\n                  rounded-circle\n                ",attrs:{color:i?"indigo":"white",elevation:i?8:4},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toPage.apply(null,arguments)}}},[n("v-icon",{attrs:{color:i?"white":"indigo"}},[t._v(" mdi-plus-circle-outline ")]),n("span",{staticClass:"text-h6",class:i?"white--text":"indigo--text"},[t._v("看更多")])],1)]}}])})],1)],2)],1)],1)]],2)},et=[],nt=n("1da1"),it=(n("96cf"),n("4e827"),n("fb6a"),n("4de4"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-carousel",{staticClass:"carousel elevation-12",attrs:{cycle:"",interval:"5000",height:"600"},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.items,(function(t,e){return n("v-carousel-item",{key:e,attrs:{src:t.src,"reverse-transition":"fade-transition",transition:"fade-transition"}})})),1)}),rt=[],at={name:"MainCarousel",data:function(){return{model:0,items:[{src:"https://i.imgur.com/S3sxvPn.jpg"},{src:"https://i.imgur.com/ThcMCQb.jpg"},{src:"https://i.imgur.com/WsKKK4k.jpg"},{src:"https://i.imgur.com/WsWQKED.jpg"}]}}},ot=at,st=(n("036c"),n("5e66")),ct=n("3e35"),ut=Object(v["a"])(ot,it,rt,!1,null,null,null),lt=ut.exports;g()(ut,{VCarousel:st["a"],VCarouselItem:ct["a"]});var dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-hover",[n("v-slide-item",[n("v-card",{staticClass:"mx-4 my-2 product-card",attrs:{"max-width":"296"}},[n("v-img",{attrs:{height:"200",width:"300",src:t.item.image||"https://picsum.photos/id/"+(10+t.item.id)+"/500/300","lazy-src":"https://picsum.photos/id/11/100/60"}}),n("div",{staticClass:"card-section d-flex"},[n("v-card-title",{staticClass:"text-title"},[t._v(t._s(t.item.name))]),n("v-card-text",{staticClass:"text-subtitle"},[t._v(" "+t._s(t._f("moneyFilter")(t.item.price)))])],1),n("v-card-text",{staticClass:"pt-1 pb-0 description-part"},[n("v-row",{staticClass:"mx-0",attrs:{align:"center"}},[n("v-rating",{attrs:{value:4.5,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}}),n("div",{staticClass:"grey--text ms-4"},[t._v(t._s(t.item.rating))])],1),n("div",{staticClass:"mt-5"},[t._v(" "+t._s(t.item.description)+" ")])],1),n("v-card-actions",{staticClass:"mx-2 mt-3 mb-1"},[n("v-spacer"),n("v-btn",{attrs:{icon:"",color:t.isLiked?"pink":"grey"},on:{click:t.toggleLiked}},[n("v-icon",[t._v("mdi-heart")])],1),n("v-btn",{attrs:{icon:"",color:t.isInCart?"primary":"grey"},on:{click:t.addToCart}},[n("v-icon",[t._v("mdi-cart")])],1),n("router-link",{staticClass:"ml-3",attrs:{to:{name:"product",params:{id:t.item.id}}}},[n("v-btn",{attrs:{elevation:"4",color:"primary"}},[t._v("前往購買")])],1)],1)],1)],1)],1)},mt=[],ft=n("11c1"),ht={name:"NewestItems",mixins:[f["a"]],props:{initialItem:{type:Object,required:!0}},watch:{initialItem:{handler:function(t){this.item=Object(o["a"])(Object(o["a"])({},this.item),t)},deep:!0}},created:function(){this.fetchItem()},data:function(){return{item:{id:-1,name:"",price:0,stock:50}}},computed:Object(o["a"])(Object(o["a"])({},Object(s["b"])(["user","itemInCart","likes"])),{},{isInCart:function(){var t=this;return this.itemInCart.some((function(e){return e.Item.id===t.item.id}))},isLiked:function(){var t=this;return this.likes.some((function(e){return e.id===t.item.id}))}}),methods:{fetchItem:function(){this.item=Object(o["a"])(Object(o["a"])({},this.item),this.initialItem)},toggleLiked:function(){var t=this;-1!==this.user.id?this.likes.some((function(e){return e.id===t.item.id}))?this.$store.commit("removeLike",this.item):this.$store.commit("setLike",this.item):m["a"].fire({icon:"error",title:"無法加入收藏，請先登入"})},addToCart:function(){if(-1!==this.user.id)if(this.isInCart)m["a"].fire({icon:"warning",title:"商品已經在購物車內！"});else{var t={id:Object(ft["v4"])(),Item:{id:this.item.id,name:this.item.name,image:this.item.image,price:this.item.price,stock:this.item.stock},quantity:1};this.$store.commit("setCartItem",t),m["a"].fire({icon:"success",title:"加入購物車成功！"})}else m["a"].fire({icon:"error",title:"無法加入購物車，請先登入"})}}},pt=ht,vt=(n("9c27"),n("ce87")),bt=n("1d4d"),gt=n("9dbe"),kt=Object(v["a"])(pt,dt,mt,!1,null,"d081ea98",null),Ct=kt.exports;g()(kt,{VBtn:I["a"],VCard:x["a"],VCardActions:w["a"],VCardText:w["c"],VCardTitle:w["d"],VHover:vt["a"],VIcon:V["a"],VImg:O["a"],VRating:bt["a"],VRow:M["a"],VSlideItem:gt["a"],VSpacer:q["a"]});var yt=n("369b"),It=n.n(yt),xt=n("4583"),wt="https://docs.google.com/spreadsheets/d/e/2PACX-1vT54r-aPFDVkBm3KfUCm3C1N6kwcAN7fVqFzsUc2IKShjEpO3TQjKPKY2zUbkeQkQD6OaQ56CyR0ECC/pub?gid=0&single=true&output=csv",_t="https://docs.google.com/spreadsheets/d/e/2PACX-1vT54r-aPFDVkBm3KfUCm3C1N6kwcAN7fVqFzsUc2IKShjEpO3TQjKPKY2zUbkeQkQD6OaQ56CyR0ECC/pub?gid=11022087&single=true&output=csv",Vt={name:"Home",components:{MainCarousel:lt,NewestItems:Ct,HalfCircleSpinner:xt["a"]},created:function(){this.fetchProducts(),this.fetchSeries(),this.couponTicketAlert()},data:function(){return{newestItems:[],topFiveItems:[],series:[],selectCategory:"unicorn",status:{isLoading:!0}}},methods:{fetchProducts:function(){var t=this;It.a.parse(wt,{download:!0,header:!0,dynamicTyping:!0,complete:function(e){var n=[];e.data.forEach((function(t){n.push(Object(o["a"])(Object(o["a"])({},t),{},{releaseDate:new Date(t.releaseDate)}))})),n.sort((function(t,e){return e.releaseDate-t.releaseDate})),t.newestItems=n.slice(0,8);var i=n.filter((function(t){return t.series.includes("popmart")})).sort((function(t,e){return e.rating-t.rating})).slice(0,5),r=n.filter((function(t){return t.series.includes("unicorn")})).sort((function(t,e){return e.rating-t.rating})).slice(0,5),a=n.filter((function(t){return t.series.includes("52toys")})).sort((function(t,e){return e.rating-t.rating})).slice(0,5),s=n.filter((function(t){return t.series.includes("mountain")})).sort((function(t,e){return e.rating-t.rating})).slice(0,5);i.forEach((function(e){return t.topFiveItems.push(e)})),r.forEach((function(e){return t.topFiveItems.push(e)})),a.forEach((function(e){return t.topFiveItems.push(e)})),s.forEach((function(e){return t.topFiveItems.push(e)}))}})},fetchSeries:function(){var t=this;It.a.parse(_t,{download:!0,header:!0,dynamicTyping:!0,complete:function(e){e.data.forEach((function(e){t.series.some((function(t){return t.id===e.seriesId}))||t.series.push({id:e.seriesId,name:e.seriesName})})),t.status.isLoading=!1}})},couponTicketAlert:function(){var t=this;return Object(nt["a"])(regeneratorRuntime.mark((function e(){var n,i,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("stopAlert"),!n&&-1!==t.user.id){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,d.a.fire({title:"<h2>夏日優惠卷</h2>",html:'<div style="line-height:50px;">歡迎來到2/144盲盒店</div><b style="line-height:50px;">輸入優惠碼"1500NFEE"</b> <div style="line-height:50px;">可獲得滿1500免運費優惠卷一張</div>',confirmButtonText:"前往輸入",showDenyButton:!0,denyButtonText:"我知道了，不再顯示",showCancelButton:!0,cancelButtonText:"關閉"});case 5:i=e.sent,r=i.isConfirmed,a=i.isDenied,r?t.$router.push("/member/coupon"):a&&localStorage.setItem("stopAlert",!0);case 9:case"end":return e.stop()}}),e)})))()},toPage:function(){document.documentElement.scrollTop=0,this.$router.push({name:"products",query:{filterId:1,seriesId:this.selectCategory,keyword:""}})}},computed:Object(o["a"])({filteredTopFive:function(){var t=this;return this.topFiveItems.filter((function(e){return e.series.includes(t.selectCategory)}))}},Object(s["b"])(["user"]))},Ot=Vt,jt=(n("96fd"),n("a523")),St=n("7efd"),Tt=n("71a3"),Et=n("fe57"),At=Object(v["a"])(Ot,tt,et,!1,null,"54cda0e6",null),Bt=At.exports;g()(At,{VCard:x["a"],VContainer:jt["a"],VDivider:_["a"],VHover:vt["a"],VIcon:V["a"],VSheet:B["a"],VSlideGroup:St["b"],VTab:Tt["a"],VTabs:Et["a"]}),i["a"].use(s["a"]);var qt=new s["a"].Store({state:{user:{id:-1,name:"",account:""},isAuthenticated:!1,itemInCart:[],likes:[]},mutations:{setCurrentUser:function(t,e){t.user=Object(o["a"])(Object(o["a"])({},t.user),e),t.isAuthenticated=!0},revokeAuthentication:function(t){t.user={id:-1,name:"",account:""},t.isAuthenticated=!1,localStorage.removeItem("currentUser"),t.itemInCart=[],localStorage.removeItem("cartItems"),t.likes=[],localStorage.removeItem("likes")},getCartItem:function(t,e){t.itemInCart=e},setCartItem:function(t,e){if(t.itemInCart.find((function(t){return t.Item.id===e.Item.id}))){var n=t.itemInCart.find((function(t){return t.Item.id===e.Item.id}));n.quantity=e.quantity}else t.itemInCart.push(e);localStorage.setItem("cartItems",JSON.stringify(t.itemInCart))},removeCartItem:function(t,e){t.itemInCart=t.itemInCart.filter((function(t){return t.Item.id!==e.Item.id})),localStorage.setItem("cartItems",JSON.stringify(t.itemInCart))},cleanCartItem:function(t){t.itemInCart=[],localStorage.removeItem("cartItems")},getLikes:function(t,e){t.likes=e},setLike:function(t,e){t.likes.push(e),localStorage.setItem("likes",JSON.stringify(t.likes))},removeLike:function(t,e){t.likes=t.likes.filter((function(t){return t.id!==e.id})),localStorage.setItem("likes",JSON.stringify(t.likes))}},actions:{},modules:{}});i["a"].use(Z["a"]);var Lt=function(t,e,n){var i=qt.state.user;-1!==i.id&&(m["a"].fire({icon:"error",title:"目前無法前往該頁面，請先登出。"}),n("/home")),n()},Pt=function(t,e,n){var i=qt.state.user;-1===i.id&&(m["a"].fire({icon:"error",title:"請先登入"}),n("/home")),n()},$t=[{path:"/",name:"root",redirect:"/home"},{path:"/home",name:"home",component:Bt},{path:"/login",name:"login",component:function(){return n.e("chunk-ef75f2a8").then(n.bind(null,"a55b"))},beforeEnter:Lt},{path:"/register",name:"register",component:function(){return Promise.all([n.e("chunk-ee56cba2"),n.e("chunk-10668aa2"),n.e("chunk-2d0d6d35")]).then(n.bind(null,"73cf"))},beforeEnter:Lt},{path:"/products",name:"products",component:function(){return n.e("chunk-79045f60").then(n.bind(null,"e6dc"))},beforeEnter:function(t,e,n){e.name||"1"===t.query.filterId&&"all"===t.query.seriesId&&""===t.query.keyword||n({name:"products",query:{filterId:"1",seriesId:"all",keyword:""}}),n()}},{path:"/product/:id",name:"product",component:function(){return n.e("chunk-4fd2d4f8").then(n.bind(null,"d2f1"))}},{path:"/likes",name:"likes",component:function(){return n.e("chunk-2408748a").then(n.bind(null,"c49c"))},beforeEnter:function(t,e,n){var i=qt.state.user;-1===i.id&&(m["a"].fire({icon:"error",title:"請先登入"}),n("/home")),e.name||""===t.query.keyword||n({name:"likes",query:{keyword:""}}),n()}},{path:"/member",name:"member",component:function(){return n.e("chunk-13a3ce92").then(n.bind(null,"80d2c"))},redirect:"/member/setting",children:[{path:"setting",name:"setting",component:function(){return Promise.all([n.e("chunk-ee56cba2"),n.e("chunk-10668aa2"),n.e("chunk-545930b9")]).then(n.bind(null,"7ea1c"))}},{path:"password",name:"password",component:function(){return n.e("chunk-9e865bc6").then(n.bind(null,"291d"))}},{path:"history",name:"history",component:function(){return n.e("chunk-369465ef").then(n.bind(null,"c228"))}},{path:"coupon",name:"coupon",component:function(){return n.e("chunk-87d7ad34").then(n.bind(null,"f43e"))}}],beforeEnter:Pt},{path:"/checkout",name:"checkout",component:function(){return Promise.all([n.e("chunk-ee56cba2"),n.e("chunk-2c6acf8a")]).then(n.bind(null,"7cb4"))}}],Nt=new Z["a"]({routes:$t});Nt.beforeEach((function(t,e,n){var i=JSON.parse(localStorage.getItem("currentUser")),r=JSON.parse(localStorage.getItem("cartItems")),a=JSON.parse(localStorage.getItem("likes")),o=qt.state.user;o!==i&&(i&&qt.commit("setCurrentUser",i),r&&qt.commit("getCartItem",r),a&&qt.commit("getLikes",a)),n()}));var Ft=Nt,Dt=n("f309");i["a"].use(Dt["a"]);var Qt=new Dt["a"]({});i["a"].config.productionTip=!1,new i["a"]({router:Ft,store:qt,vuetify:Qt,render:function(t){return t(G)}}).$mount("#app")},"5a10":function(t,e,n){},"7ea1":function(t,e,n){},"96fd":function(t,e,n){"use strict";n("7ea1")},"9c27":function(t,e,n){"use strict";n("ae67")},"9fbe":function(t,e,n){"use strict";n("5a10")},ae67:function(t,e,n){},b93b:function(t,e,n){},c968:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("3d20"),r=n.n(i),a=r.a.mixin({toast:!0,position:"top-end",timer:3e3,timerProgressBar:!0,showConfirmButton:!1})},c9ce:function(t,e,n){"use strict";n("28d4")},ec5a:function(t,e,n){"use strict";n("02eb")},f0c0:function(t,e,n){}});
//# sourceMappingURL=app.2a676799.js.map